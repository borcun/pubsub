#include "topic.h"
#include <gtest/gtest.h>

#define TOPIC_NAME ("my-test-topic")
#define TOPIC_PAYLOAD ("This is my payload")

TEST(TopicTest, SetterGetter) {
  Topic topic {TOPIC_NAME};

  topic.setPayload(TOPIC_PAYLOAD);
  
  EXPECT_EQ(TOPIC_NAME, topic.getName()) << "Could not set topic name";
  EXPECT_EQ(TOPIC_PAYLOAD, topic.getPayload()) << "Could not set topic payload";
}

int main(int argc, char**argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
